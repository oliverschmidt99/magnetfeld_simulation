<!DOCTYPE html>
{% extends "base.html" %}

{% block title %}Bauteil-Editor{% endblock %}

{% block sub_nav %}
<div class="sub-nav-bar">
    <h2>Bauteile bearbeiten</h2>
</div>
{% endblock %}

{% block content %}
<script id="library-data" type="application/json">
    {{ library|tojson|safe }}
</script>

<div class="container">

    <div class="card-container" id="bauteile-nav">
        <div class="card active" data-target="bauteil-rails">
            <h3>Stromschienen</h3>
            <p>Kupferschienen verwalten.</p>
        </div>
        <div class="card" data-target="bauteil-transformers">
            <h3>Wandler</h3>
            <p>Stromwandler verwalten.</p>
        </div>
        <div class="card" data-target="bauteil-sheets">
            <h3>Abschirmbleche</h3>
            <p>Trafobleche verwalten.</p>
        </div>
    </div>

    <hr>

    <div id="bauteil-sections">
        <div id="bauteil-rails" class="config-section active"></div>
        <div id="bauteil-transformers" class="config-section"></div>
        <div id="bauteil-sheets" class="config-section"></div>
    </div>
</div>

<div id="preview-modal-overlay" class="modal-overlay" style="display: none;">
    <div class="preview-modal-content">
        <button id="preview-modal-close" class="modal-close-btn">&times;</button>
        <svg id="modal-preview-svg"></svg>
    </div>
</div>

<div id="tag-modal" class="modal-overlay" style="display: none;">
    <div class="modal-content">
        <h3>Tags ausw√§hlen</h3>
        <div id="modal-selected-tags" class="tags-input-container"></div>
        <div class="search-container">
            <input type="text" id="tag-search-input" placeholder="Tags suchen...">
        </div>
        <div id="modal-tag-list" class="modal-tag-list"></div>
        <div class="button-group">
            <button type="button" id="modal-save-btn" class="button">Fertig</button>
            <button type="button" id="modal-cancel-btn" class="button secondary">Abbrechen</button>
        </div>
    </div>
</div>
{% endblock %}

{% block scripts %}
{# tags.js wird bereits in base.html geladen, daher hier entfernt #}
<script src="{{ url_for('static', filename='js/bauteile.js') }}"></script>
{% endblock %}
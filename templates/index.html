<!DOCTYPE html>
<html lang="de">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Magnetfeld-Simulation</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>

<body>

    <div id="main-menu-view">
        <div id="main-menu-tabs">
            <button type="button" class="main-tab active" onclick="showMainMenuTab('neues-projekt')">Neues
                Projekt</button>
            <button type="button" class="main-tab" onclick="showMainMenuTab('projekt-laden')">Projekt laden</button>
            <button type="button" class="main-tab" onclick="showMainMenuTab('bauteile-erstellen')">Bauteile</button>
            <button type="button" class="main-tab" onclick="showMainMenuTab('einstellungen')">Einstellungen</button>
        </div>

        <div id="main-menu-content">
            <div id="neues-projekt-panel" class="main-panel active">
                <h2>Neues Projekt erstellen</h2>
                <div class="form-group">
                    <label for="proj-name">Projektname:</label>
                    <input type="text" id="proj-name" placeholder="z.B. Mein erster Wandler">
                </div>
                <div class="form-group">
                    <label for="proj-desc">Beschreibung:</label>
                    <textarea id="proj-desc" rows="3"
                        placeholder="Optionale Beschreibung des Simulationsziels"></textarea>
                </div>
                <div class="form-group">
                    <label for="sim-type">Art der Simulation:</label>
                    <select id="sim-type">
                        <option value="3-leiter">3 Leiter (L1, L2, L3)</option>
                        <option value="4-leiter">4 Leiter (L1, L2, L3, N)</option>
                        <option value="5-leiter">5 Leiter (L1, L2, L3, N, PE)</option>
                        <option value="2-leiter">2 Leiter (L1, N)</option>
                        <option value="sandbox">Sandbox (leere Zeichenfläche)</option>
                    </select>
                </div>
                <button type="button" id="create-project-btn" class="action-btn">Projekt erstellen &amp; Öffnen</button>
            </div>

            <div id="projekt-laden-panel" class="main-panel">
                <h2>Projekt laden</h2>
                <ul id="project-list">
                    <li>(Funktionalität zum Laden wird später implementiert)</li>
                </ul>
            </div>

            <div id="bauteile-erstellen-panel" class="main-panel">
                <h2>Globale Bauteil-Bibliothek</h2>
                <p>(Funktionalität wird in einem späteren Schritt implementiert)</p>
            </div>

            <div id="einstellungen-panel" class="main-panel">
                <h2>Globale Einstellungen (Problem Definition)</h2>
                <div class="settings-grid">
                    <div class="form-group"><label>Problem Type:</label><select>
                            <option>Planar</option>
                            <option>Axisymmetric</option>
                        </select></div>
                    <div class="form-group"><label>Length Units:</label><select>
                            <option>Millimeters</option>
                            <option>Centimeters</option>
                            <option>Meters</option>
                        </select></div>
                    <div class="form-group"><label>Frequency (Hz):</label><input type="number" value="50"></div>
                    <div class="form-group"><label>Depth:</label><input type="number" value="30"></div>
                    <div class="form-group"><label>Solver Precision:</label><input type="text" value="1e-08"></div>
                    <div class="form-group"><label>Min Angle:</label><input type="number" value="30"></div>
                </div>
                <h3>Materialien</h3>
                <button type="button" id="load-materials-btn" class="action-btn">Materialien aus matlib.dat
                    laden</button>
                <div id="material-list-container"></div>
            </div>
        </div>
    </div>

    <div id="project-editor-view" class="hidden">
        <div id="ribbon-container">
            <div id="ribbon-tabs">
                <h3 id="project-title-display">Projekt: -</h3>
                <button type="button" class="ribbon-tab active" onclick="showTab('editor')">Editor</button>
                <button type="button" class="ribbon-tab" onclick="showTab('simulieren')">Simulieren</button>
                <button type="button" class="ribbon-tab" onclick="showTab('analysieren')">Analysieren</button>
                <button type="button" class="ribbon-tab" onclick="showTab('dokumentation')">Dokumentation</button>
                <button type="button" class="ribbon-tab" onclick="showTab('hilfe')">Hilfe</button>
                <button type="button" id="close-project-btn">Projekt schließen</button>
            </div>

            <div id="ribbon-content">
                <div id="editor-tab" class="ribbon-panel active">
                    <div class="ribbon-group">
                        <span class="group-title">Werkzeuge</span>
                        <button type="button" class="tool-button tool-selector selected"
                            data-tool="select">Auswahl</button>
                        <button type="button" class="tool-button tool-selector" data-tool="line">Linie</button>
                        <button type="button" class="tool-button tool-selector" data-tool="rect">Rechteck</button>
                        <button type="button" class="tool-button tool-selector" data-tool="circle">Kreis</button>
                    </div>
                    <div class="ribbon-group">
                        <span class="group-title">Bauteile</span>
                        <button type="button" class="tool-button tool-selector" data-tool="leiter">Leiter</button>
                        <button type="button" class="tool-button tool-selector" data-tool="wandler">Wandler</button>
                    </div>
                    <div class="ribbon-group">
                        <span class="group-title">Bearbeiten</span>
                        <button type="button" id="undo-btn">Rückgängig</button>
                        <button type="button" id="redo-btn">Wiederholen</button>
                    </div>
                </div>
                <div id="simulieren-tab" class="ribbon-panel">
                    <div class="ribbon-group">
                        <span class="group-title">Steuerung</span>
                        <button type="button" id="start-simulation-btn" class="tool-button">Start</button>
                    </div>
                    <div class="ribbon-group">
                        <span class="group-title">Parameter</span>
                        <p>Platzhalter für Strom, Phasenwinkel etc.</p>
                    </div>
                </div>
                <div id="analysieren-tab" class="ribbon-panel">
                    <div class="ribbon-group">
                        <span class="group-title">Darstellung</span>
                        <button type="button" class="tool-button">Feldlinien</button>
                    </div>
                    <div class="ribbon-group">
                        <span class="group-title">Export</span>
                        <button type="button" class="tool-button">PNG</button>
                    </div>
                </div>
                <div id="dokumentation-tab" class="ribbon-panel">
                    <textarea id="notes-area" placeholder="Hier kannst du Notizen machen..."></textarea>
                </div>
                <div id="hilfe-tab" class="ribbon-panel">
                    <h2>Hilfe</h2>
                    <p>Hier kommt die Hilfe-Sektion hin.</p>
                </div>
            </div>
        </div>

        <div id="editor-container">
            <canvas id="editor-canvas" width="1200" height="700"></canvas>
        </div>

        <div id="simulation-output">
            <h3>Simulationsergebnis:</h3>
            <pre id="output-pre">Noch keine Simulation ausgeführt.</pre>
        </div>
    </div>

    <script src="{{ url_for('static', filename='script.js') }}"></script>
</body>

</html>
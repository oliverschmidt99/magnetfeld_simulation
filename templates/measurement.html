<!DOCTYPE html>
{% extends "base.html" %}

{% block title %}Messung{% endblock %}

{% block sub_nav %}
<div class="sub-nav-bar">
    <h2>Mess-Konfiguration und Visualisierung</h2>
</div>
{% endblock %}

{% block content %}
<div class="container measurement-container">

    <div class="measurement-config-panel">
        <h3>Konfiguration</h3>
        <div id="config-editor">
            <h4>Globale Einstellungen</h4>
            <div class="config-section" id="global-settings"></div>

            <h4>Positionsgruppen</h4>
            <div id="positionsgruppen-list"></div>
            <button id="add-group-btn" class="btn-primary">Neue Positionsgruppe hinzuf√ºgen</button>
        </div>
        <div class="config-actions">
            <button id="save-config-btn" class="btn-success">Konfiguration Speichern</button>
            <button id="reload-plots-btn" class="btn-secondary">Plots Neu Laden</button>
        </div>
        <div id="save-status" class="save-status"></div>
    </div>

    <div class="measurement-plots-panel">
        <h3>Visualisierung</h3>
        <div id="custom-legend-container" class="custom-legend"></div>
        <div class="dashboard-container" id="dashboard-container"></div>
    </div>
</div>
{% endblock %}

{% block scripts %}
<script src="https://cdn.plot.ly/plotly-2.32.0.min.js"></script>
<script src="{{ url_for('static', filename='js/measurement.js') }}"></script>
{% endblock %}
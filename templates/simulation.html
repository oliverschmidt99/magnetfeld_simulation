<!DOCTYPE html>
{% extends "base.html" %}

{% block title %}Simulation{% endblock %}

{% block head %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/pages/simulation.css') }}">
{% endblock %}

{% block sub_nav %}
<div class="sub-nav-bar">
    <h2>Neue Simulation durchführen (5 Schritte)</h2>
</div>
{% endblock %}

{% block content %}
<section>
    <div id="simulation-wizard">
        <div class="step-indicator">
            <div class="step-item active" data-step="1">1. Startpositionen</div>
            <div class="step-item" data-step="2">2. Spielraum</div>
            <div class="step-item" data-step="3">3. Bewegungen</div>
            <div class="step-item" data-step="4">4. Schrittweiten</div>
            <div class="step-item" data-step="5">5. Wandler</div>
        </div>

        <div class="step-content active" data-step="1">
            <h3>Schritt 1: Startpositionen</h3>
            <p>Konfigurieren Sie die Startpositionen für die Simulation. Die Daten können per Drag und Drop sortiert
                werden.</p>
            <div id="csv-table-1" class="editable-csv-table"></div>
            <div class="button-group">
                <button type="button" class="nav-btn next-btn btn-primary" data-next="2">Weiter &raquo;</button>
            </div>
        </div>

        <div class="step-content" data-step="2">
            <h3>Schritt 2: Spielraum</h3>
            <p>Definieren Sie den Spielraum für die verschiedenen Stromstärken.</p>
            <div id="csv-table-2" class="editable-csv-table"></div>
            <div class="button-group">
                <button type="button" class="nav-btn prev-btn btn-secondary" data-prev="1">&laquo; Zurück</button>
                <button type="button" class="nav-btn next-btn btn-primary" data-next="3">Weiter &raquo;</button>
            </div>
        </div>

        <div class="step-content" data-step="3">
            <h3>Schritt 3: Bewegungen</h3>
            <p>Legen Sie die Bewegungsabläufe für die Simulation fest.</p>
            <div id="csv-table-3" class="editable-csv-table"></div>
            <div class="button-group">
                <button type="button" class="nav-btn prev-btn btn-secondary" data-prev="2">&laquo; Zurück</button>
                <button type="button" class="nav-btn next-btn btn-primary" data-next="4">Weiter &raquo;</button>
            </div>
        </div>

        <div class="step-content" data-step="4">
            <h3>Schritt 4: Schrittweiten</h3>
            <p>Bestimmen Sie die Schrittweiten für die Bewegungen.</p>
            <div id="csv-table-4" class="editable-csv-table"></div>
            <div class="button-group">
                <button type="button" class="nav-btn prev-btn btn-secondary" data-prev="3">&laquo; Zurück</button>
                <button type="button" class="nav-btn next-btn btn-primary" data-next="5">Weiter &raquo;</button>
            </div>
        </div>

        <div class="step-content" data-step="5">
            <h3>Schritt 5: Wandler-Abmessungen &amp; Simulation starten</h3>
            <p>Überprüfen Sie die Abmessungen des Wandlers und starten Sie die Simulation.</p>
            <div id="csv-table-5" class="editable-csv-table"></div>
            <div class="button-group">
                <button type="button" class="nav-btn prev-btn btn-secondary" data-prev="4">&laquo; Zurück</button>
                <button type="button" id="start-simulation-btn" class="btn-primary">Simulation starten</button>
            </div>

            <div id="simulation-progress" class="simulation-progress-container">
                <h4>Simulationsfortschritt:</h4>
                <div class="progress">
                    <div id="progress-bar" class="progress-bar">0%</div>
                </div>
                <div id="simulation-status-text" class="status-text"></div>
            </div>
        </div>
    </div>
</section>
{% endblock %}

{% block scripts %}
<script src="https://cdn.jsdelivr.net/npm/sortablejs@1.15.0/Sortable.min.js"></script>
<script src="{{ url_for('static', filename='js/simulation.js') }}"></script>
{% endblock %}
<!DOCTYPE html>
{% extends "base.html" %}

{% block title %}Interaktiver Konfigurator{% endblock %}

{% block head %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/simulation_v2.css') }}">
{% endblock %}

{% block sub_nav %}
<div class="sub-nav-bar">
    <h2>Interaktiver Konfigurator</h2>
</div>
{% endblock %}

{% block content %}
<div class="container">
    <h2>Interaktiver Konfigurator für FEMM-Simulationsdateien</h2>
    <p>
        Dieses Tool führt dich schrittweise durch die Konfiguration, um eine vollständige
        und portable <code>simulation.json</code> für dein MATLAB-Skript zu erstellen.
    </p>

    <div id="interactive-configurator">
        <div class="card">
            <h3>Schritt 1: Nennstrom auswählen</h3>
            <select id="nennstrom-select" class="form-select">
                <option value="600">600 A</option>
                <option value="800">800 A</option>
                <option value="1000">1000 A</option>
                <option value="1250">1250 A</option>
                <option value="1600">1600 A</option>
                <option value="2000">2000 A</option>
                <option value="2500">2500 A</option>
                <option value="3000">3000 A</option>
                <option value="4000">4000 A</option>
                <option value="5000">5000 A</option>
            </select>
        </div>

        <div class="card">
            <h3>Schritt 2: Stromwandler auswählen</h3>
            <select id="wandler-select" class="form-select" disabled>
                <option>Bitte zuerst Nennstrom wählen</option>
            </select>
        </div>

        <div class="card">
            <h3>Schritt 3: Leiterposition und Bewegung definieren</h3>
            <select id="bewegung-select" class="form-select">
            </select>
        </div>

        <div class="card">
            <h3>Schritt 4: Simulationsparameter festlegen</h3>
            <div class="form-group">
                <label for="sim-strom-1">Simulationsstrom 1 (A)</label>
                <input type="number" id="sim-strom-1" value="2000" class="form-control">
            </div>
            <div class="form-group">
                <label for="sim-strom-2">Simulationsstrom 2 (A)</label>
                <input type="number" id="sim-strom-2" value="2500" class="form-control">
            </div>
            <div class="form-group">
                <label for="sim-strom-3">Simulationsstrom 3 (A)</label>
                <input type="number" id="sim-strom-3" value="3000" class="form-control">
            </div>
            <hr>
            <h4>Phasenwinkel-Sweep</h4>
            <div class="form-row">
                <div class="form-group">
                    <label for="phase-start">Startwinkel (°)</label>
                    <input type="number" id="phase-start" value="0" class="form-control">
                </div>
                <div class="form-group">
                    <label for="phase-end">Endwinkel (°)</label>
                    <input type="number" id="phase-end" value="180" class="form-control">
                </div>
                <div class="form-group">
                    <label for="phase-step">Schrittweite (°)</label>
                    <input type="number" id="phase-step" value="5" class="form-control">
                </div>
            </div>
        </div>
    </div>

    <button type="button" id="generate-json-btn" class="button">simulation.json erstellen</button>

    <div id="result-container">
        <h3>Erstellte simulation.json</h3>
        <pre><code id="json-output"></code></pre>
    </div>
</div>
{% endblock %}

{% block scripts %}
<script src="{{ url_for('static', filename='js/simulation_v2.js') }}"></script>
{% endblock %}